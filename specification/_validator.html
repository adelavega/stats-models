<div class="App">
  <style>
    .section {
      min-height: 85vh;
      display: flex;
      flex-direction: column;
      width: 100%;
    }

    .App {
      display: flex;
      flex-direction: row;
      height: 100%;
      flex-grow: 1;
    }

    .app > * { flex: 1; }
    .left {
      width: 100%;
    }

    .right {
      width: 100%;
      margin-left: 30px;
    }
    .clear {
      clear: both;
    }

    textarea {
      height: 100%;
      width: 100%;
    }
    .col-md-9 {
      max-width: 100%;
      flex: 0 0 100%;
    }
  </style>
  <div class="left">
    Models go here:
    <div id="jsonInput">
    </div>
  </div>
  <div class="right">
    Validator Output:<br />
    <div id="isValidContainer">
    </div>
  </div>
<script async>
  const url = "./BIDSStatsModel.json"
  import { JSONEditor, createAjvValidator } from '../../package/dist/jsoneditor.js'
  let validator
  let ajv
  (async function() {
    ajv = new Ajv({allErrors: true})
    await fetch(url).then((resp) => {
      return resp.json()
    }).then((schema) => {
      validator = ajv.compile(schema)
      const target = document.getElementById('jsoneditor')
      const editor = new JSONEditor({
        target: document.getElementById('jsonInput'),
        props: {
          content,
          onChange: (update) => console.log('onChange', update),
          validator: validator
        }
      })

    })
  })()

</script>
</div>
